# üöÄ WiizoChat v2

> Plataforma completa de automa√ß√£o de vendas e atendimento ao cliente powered by IA

[![License](https://img.shields.io/badge/license-MIT-blue.svg)](LICENSE)
[![Version](https://img.shields.io/badge/version-2.0.0-green.svg)](CHANGELOG.md)

## üìã √çndice

- [Vis√£o Geral](#-vis√£o-geral)
- [Funcionalidades](#-funcionalidades)
- [Tecnologias](#-tecnologias)
- [Quick Start](#-quick-start)
- [Documenta√ß√£o](#-documenta√ß√£o)
- [Contribui√ß√£o](#-contribui√ß√£o)
- [Licen√ßa](#-licen√ßa)

---

## üéØ Vis√£o Geral

O **WiizoChat v2** √© uma plataforma completa de automa√ß√£o de vendas e atendimento ao cliente, powered by IA. A solu√ß√£o integra m√∫ltiplas ferramentas de comunica√ß√£o, CRM, automa√ß√£o de workflows e intelig√™ncia artificial para criar um ecossistema robusto de gest√£o de relacionamento com clientes.

### ‚ú® **Caracter√≠sticas Principais**

- ü§ñ **IA Integrada** com OpenAI GPT-4.1
- üì± **Multi-canal** (WhatsApp, Instagram, Facebook)
- üîÑ **Workflows Automatizados** com Flow Builder
- üìû **Call IA** para liga√ß√µes inteligentes
- üìä **Analytics Avan√ßados** em tempo real
- üîí **Seguran√ßa Enterprise** com prote√ß√µes avan√ßadas

---

## üöÄ Funcionalidades

### üí¨ **Sistema de Chat e Conversas**
- **Interface de Chat** inteligente e responsiva
- **Flow Builder Visual** com sistema de nodes
- **Workflows Automatizados** de conversa√ß√£o
- **Respostas em Tempo Real** (streaming)
- **M√∫ltiplas Conversas** simult√¢neas
- **Templates de Workflows** pr√©-configurados
- **Execu√ß√£o e Monitoramento** em tempo real
- **Integra√ß√£o com IA** avan√ßada (GPT-4.1)

### ü§ñ **Agentes de IA**
- **Cria√ß√£o Personalizada** de agentes
- **Templates Pr√©-definidos:**
  - üéß **Atendimento ao Cliente** - Suporte e FAQ
  - üí∞ **Agente de Vendas** - Qualifica√ß√£o e convers√£o
  - üîß **Suporte T√©cnico** - Troubleshooting avan√ßado
  - ‚öôÔ∏è **Agente Personalizado** - Configura√ß√£o total
- **Configura√ß√£o de Prompts** e personalidade
- **Valida√ß√£o Autom√°tica** de configura√ß√µes
- **Sugest√µes de Melhorias** baseadas em IA
- **M√©tricas de Performance** em tempo real

### üìû **Call IA e Sistema de Liga√ß√µes**
- **Call IA Center** - Centro de controle de liga√ß√µes
- **Campanhas de Liga√ß√£o** automatizadas
- **Sistema A.I Actions** - A√ß√µes de IA para liga√ß√µes
- **Distribui√ß√£o Inteligente** de liga√ß√µes
- **Agendamento de Liga√ß√µes** via calend√°rio
- **Integra√ß√£o WhatsApp-Liga√ß√£o** - Transi√ß√£o autom√°tica
- **Grava√ß√£o e An√°lise** de liga√ß√µes com IA
- **Scripts Din√¢micos** baseados em IA
- **M√©tricas de Performance** de liga√ß√µes
- **Callback Autom√°tico** para leads qualificados

### üéØ **Gest√£o de Leads**
- **Pipeline Visual** com colunas customiz√°veis
- **Distribui√ß√£o Autom√°tica** de leads
- **Qualifica√ß√£o Inteligente** com IA
- **Sistema de Notifica√ß√µes** personalizado
- **Scoring de Leads** autom√°tico
- **Follow-up Automatizado**

### ‚ö° **Workflows & Automa√ß√£o**
- **Editor Visual** de workflows
- **Execu√ß√£o Autom√°tica** de processos
- **M√©tricas Detalhadas** de performance
- **Duplica√ß√£o e Edi√ß√£o** f√°cil
- **Templates de Workflows**
- **Condicionais e Loops** avan√ßados

### üì¢ **Campanhas de IA**
- **Cria√ß√£o de Campanhas** automatizadas
- **Gest√£o Centralizada** de campanhas
- **Dashboard de Performance**
- **Sistema de Importa√ß√£o** de contatos
- **A/B Testing** integrado
- **Relat√≥rios Detalhados**

### üìã **Kanban & Gest√£o de Projetos**
- **Quadro Kanban** interativo
- **Drag & Drop** intuitivo
- **Colunas Customiz√°veis**
- **Filtros Avan√ßados**
- **Integra√ß√£o com Leads**
- **M√©tricas de Performance**

### üìÖ **Calend√°rio e Agendamentos**
- **Integra√ß√£o Google Calendar**
- **Agendamento Autom√°tico**
- **Lembretes Inteligentes**
- **Sincroniza√ß√£o em Tempo Real**
- **Notifica√ß√µes Personalizadas**

### üîó **Integra√ß√µes**
- **WhatsApp Business API**
- **Instagram Business API**
- **Google Calendar API**
- **Facebook Marketing API**
- **Sistema de Webhooks** personalizados

### üîí **Sistema de Seguran√ßa Avan√ßado**
- **Detec√ß√£o de DevTools** - Bloqueia acesso quando DevTools est√° aberto
- **Console Injection Protection** - Prote√ß√£o contra inje√ß√£o de c√≥digo
- **DOM Manipulation Detection** - Detecta manipula√ß√£o do DOM
- **Session Security** - Timeout autom√°tico de sess√£o
- **Iframe Protection** - Prote√ß√£o contra acesso via iframe
- **Unauthorized Access Detection** - Detec√ß√£o de acesso n√£o autorizado
- **Real-time Security Monitoring** - Monitoramento em tempo real
- **Automatic Session Termination** - Encerramento autom√°tico de sess√µes suspeitas

### üìä **Sistema de Importa√ß√£o/Exporta√ß√£o**
- **Vector Store** - Sistema de armazenamento vetorial para IA
- **Sistema de Importa√ß√£o** - Importa√ß√£o de dados externos
- **Export de Dados** - Exporta√ß√£o completa de dados
- **Backup Autom√°tico** - Backup autom√°tico de dados
- **Migration Tools** - Ferramentas de migra√ß√£o
- **Data Validation** - Valida√ß√£o de dados importados
- **Format Support** - Suporte a m√∫ltiplos formatos (CSV, JSON, XML)

---

## üõ†Ô∏è Tecnologias

### **Frontend**
- **React 18** com TypeScript
- **Tailwind CSS** para estiliza√ß√£o
- **React Router v6** para roteamento
- **Context API** para gerenciamento de estado
- **Vite** como bundler

### **Backend & Database**
- **Supabase** - Backend-as-a-Service
- **PostgreSQL** - Banco de dados
- **Row Level Security** - Seguran√ßa de dados
- **Real-time Subscriptions** - Atualiza√ß√µes em tempo real
- **Edge Functions** - Serverless functions (Deno)
- **Custom API** - APIs criadas via Edge Functions

### **IA & Machine Learning**
- **OpenAI GPT-4.1** - Modelo principal de IA
- **Function Calling** - Execu√ß√£o de fun√ß√µes
- **Streaming** - Respostas em tempo real
- **Vector Store** - Armazenamento vetorial

### **Integra√ß√µes**
- **WhatsApp Business API** - Comunica√ß√£o
- **Instagram Business API** - Redes sociais
- **Google Calendar API** - Agendamentos
- **Facebook Marketing API** - Campanhas

### **DevOps & Deploy**
- **Vercel** - Deploy frontend
- **Supabase** - Deploy backend
- **GitHub Actions** - CI/CD
- **Docker** - Containeriza√ß√£o

---

## üöÄ Quick Start

### **Pr√©-requisitos**
- Node.js 18+
- npm ou yarn
- Conta Supabase
- Chaves de API (OpenAI, WhatsApp, etc.)

### **Instala√ß√£o**

```bash
# Clone o reposit√≥rio
git clone https://github.com/seu-usuario/wiizochat-v2.git
cd wiizochat-v2

# Instale depend√™ncias
npm install

# Configure vari√°veis de ambiente
cp .env.example .env.local

# Execute o projeto
npm run dev
```

### **Configura√ß√£o R√°pida**

1. **Configure o Supabase:**
   ```bash
   # Instale Supabase CLI
   npm install -g supabase
   
   # Link com projeto
   supabase link --project-ref seu-project-ref
   ```

2. **Configure as APIs:**
   - Adicione suas chaves no `.env.local`
   - Configure as integra√ß√µes necess√°rias

3. **Execute as migra√ß√µes:**
   ```bash
   supabase db push
   ```

---

## üìö Documenta√ß√£o

- [üìñ Guia de Setup Completo](docs/SETUP.md)
- [üîß Guia de Desenvolvimento](docs/DEVELOPMENT.md)
- [üåê Documenta√ß√£o da API](docs/API.md)
- [üöÄ Guia de Deploy](docs/DEPLOYMENT.md)
- [üèóÔ∏è Arquitetura do Sistema](docs/ARCHITECTURE.md)
- [ü§ù Guia de Contribui√ß√£o](CONTRIBUTING.md)

---

## üîó Sistema de APIs para Integra√ß√£o Externa

O WiizoChat v2 oferece um sistema robusto de APIs personalizadas para cada cliente, permitindo integra√ß√£o completa com sistemas externos:

### **Arquitetura de APIs**
```javascript
// Exemplo de chamada para API personalizada
const response = await fetch(`${API_BASE_URL}/functions/v1/custom-endpoint`, {
  method: "POST",
  headers: {
    "Content-Type": "application/json",
    "Authorization": `Bearer ${API_KEY}`,
    "apikey": API_KEY
  },
  body: JSON.stringify({
    // Seus dados aqui
  })
});
```

### **APIs Principais**

#### **1. OpenAI Proxy**
- **Endpoint:** `/functions/v1/openai-proxy`
- **M√©todo:** POST
- **Fun√ß√£o:** Proxy para OpenAI API com rate limiting

#### **2. WhatsApp API**
- **Endpoint:** `/functions/v1/whatsapp-api`
- **M√©todo:** POST
- **Fun√ß√£o:** Integra√ß√£o com WhatsApp Business API

#### **3. Webhooks Personalizados**
- **Endpoint:** `/functions/v1/webhooks/{client_id}`
- **M√©todo:** POST
- **Fun√ß√£o:** Webhooks customizados por cliente

### **APIs de Integra√ß√£o**

#### **Leads Management**
```javascript
// Criar lead no WiizoChat v2
const lead = await fetch(`${API_BASE_URL}/functions/v1/leads`, {
  method: "POST",
  headers: { "Authorization": `Bearer ${API_KEY}` },
  body: JSON.stringify({
    name: "Jo√£o Silva",
    email: "joao@email.com",
    phone: "+5511999999999",
    source: "website",
    pipeline: "novos-leads"
  })
});
```

#### **Conversas e Mensagens**
```javascript
// Enviar mensagem
const message = await fetch(`${API_BASE_URL}/functions/v1/messages`, {
  method: "POST",
  headers: { "Authorization": `Bearer ${API_KEY}` },
  body: JSON.stringify({
    conversation_id: "conv_123",
    content: "Ol√°! Como posso ajudar?",
    type: "text"
  })
});
```

#### **Campanhas e Workflows**
```javascript
// Executar workflow
const workflow = await fetch(`${API_BASE_URL}/functions/v1/workflows/execute`, {
  method: "POST",
  headers: { "Authorization": `Bearer ${API_KEY}` },
  body: JSON.stringify({
    workflow_id: "wf_123",
    trigger_data: { lead_id: "lead_456" }
  })
});
```

#### **Analytics e M√©tricas**
```javascript
// Buscar m√©tricas
const metrics = await fetch(`${API_BASE_URL}/functions/v1/analytics`, {
  method: "GET",
  headers: { "Authorization": `Bearer ${API_KEY}` }
});
```

### **Configura√ß√£o de Integra√ß√£o**

1. **Obtenha suas credenciais:**
   - API Key do Supabase
   - Bearer Token de autentica√ß√£o

2. **Configure o endpoint base:**
   ```javascript
   const API_BASE_URL = "https://seu-projeto.supabase.co";
   const API_KEY = "sua-api-key";
   ```

3. **Implemente autentica√ß√£o:**
   ```javascript
   const headers = {
     "Content-Type": "application/json",
     "Authorization": `Bearer ${API_KEY}`,
     "apikey": API_KEY
   };
   ```

### **Eventos de Webhook**

O sistema suporta os seguintes eventos:

- `lead.created` - Novo lead criado
- `lead.updated` - Lead atualizado
- `conversation.started` - Nova conversa iniciada
- `message.received` - Nova mensagem recebida
- `workflow.completed` - Workflow finalizado
- `campaign.sent` - Campanha enviada

### **Rate Limiting**

- **OpenAI API:** 1000 requests/hora
- **WhatsApp API:** 1000 messages/dia
- **Webhooks:** 100 requests/minuto
- **Analytics:** 500 requests/hora

### **Observa√ß√µes sobre Arquitetura de Backends**

#### **Backend 1: Supabase (Principal)**
- **Tecnologia:** Supabase (PostgreSQL + Edge Functions)
- **Fun√ß√£o:** Banco de dados, autentica√ß√£o, APIs principais
- **Status:** ‚úÖ Ativo e funcional
- **URL:** `https://iunqiofjfviwnxnjtmkd.supabase.co`

#### **Backend 2: Servidor de Distribui√ß√£o de Leads**
- **Tecnologia:** Desconhecida (n√£o especificada no c√≥digo)
- **Fun√ß√£o:** Distribui√ß√£o inteligente de leads
- **Status:** ‚ùå Desconectado (conforme evid√™ncias no c√≥digo)
- **Integra√ß√£o:** Via API HTTP

#### **Backend 3: Servidor de Distribui√ß√£o (Alternativo)**
- **Tecnologia:** N√£o especificada
- **Fun√ß√£o:** Possivelmente backup ou distribui√ß√£o alternativa
- **Status:** ‚ùì Indefinido
- **Observa√ß√£o:** Pode ser o mesmo que Backend 2

**Nota:** Apenas o Backend 1 (Supabase) est√° totalmente funcional e documentado. Os Backends 2 e 3 requerem investiga√ß√£o adicional para determinar suas tecnologias e status operacional.

---

## ü§ù Contribui√ß√£o

Contribui√ß√µes s√£o bem-vindas! Por favor, leia nosso [Guia de Contribui√ß√£o](CONTRIBUTING.md) para detalhes sobre nosso c√≥digo de conduta e processo de submiss√£o de pull requests.

### **Como Contribuir**

1. Fork o projeto
2. Crie uma branch para sua feature (`git checkout -b feature/AmazingFeature`)
3. Commit suas mudan√ßas (`git commit -m 'Add some AmazingFeature'`)
4. Push para a branch (`git push origin feature/AmazingFeature`)
5. Abra um Pull Request

---

## üìÑ Licen√ßa

Este projeto est√° licenciado sob a Licen√ßa MIT - veja o arquivo [LICENSE](LICENSE) para detalhes.

---

## üìû Suporte

- **Email:** suporte@wiizochat.com
- **Discord:** [Servidor WiizoChat](https://discord.gg/wiizochat)
- **Documenta√ß√£o:** [docs.wiizochat.com](https://docs.wiizochat.com)

---

**Desenvolvido com ‚ù§Ô∏è pela equipe WiizoChat**